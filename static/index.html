<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>PCB Generator</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.4/css/bulma.css" />
    <style>
      .field, .file {
        margin-bottom: .75rem;
      }
    </style>
  </head>
  <body>
    <section class="section">
      <div class="container">
        <h1 class="title">
          PCB Generator
        </h1>
        <p class="subtitle">
          Create KiCad PCB files from KLE json files</br>
        </p>
          
        <form action="/submit" enctype="multipart/form-data" method="POST">

          <div class="file is-boxed">
            <label class="file-label">
              <input class="file-input" type="file" name="document">
              <span class="file-cta">
                <span class="file-icon">
                  <i class="fas fa-upload"></i>
                </span>
                <span class="file-label">
                  Select KLE json file...
                </span>
              </span>
            </label>
          </div>
          <p class="subtitle">
            By default it will use promicro as controller. Support for raw atmega32u4 was removed. </br>
            After importing generated project to KiCad please check it by kicad validation tool </br>
             and synchronize schematic with PCB. Some of schematic elements are not included by default on PCB.
             For generating routing for switches you may try freerouter tool. 
          </p>
          <div class="field">
            <div class="control">
              <label class="checkbox">
                <input type="checkbox" name="leds">
                Use in-switch LEDs
              </label>
            </div>
          </div>
          <div class="field">
            <div class="control">
              <label class="checkbox">
                <input type="checkbox" name="noMicroController">
                No micro controller. Some plain sockets will be added to schematic. 
                Useful if we have for example rpo micro on teansy od different pcb board. 
                Connectors are not added automatically to pc board. To synchronize use `Update PCB from schematic` kicad function.  
              </label>
            </div>
          </div>
          <div class="field">
            <div class="control">
              <label class="checkbox">
                <input type="checkbox" name="splitted_rj11">
                Splited keyboard, Will add rj11 connector to board
              </label>
            </div>

            <div class="field">
              <div class="control">
                <label class="checkbox">
                  <input type="checkbox" name="splitted_usb_a">
                  Splited keyboard, Will add USB type A Jack connector to board
                </label>
              </div>
          </div>
          <div class="field">
            <div class="control">
              <label class="checkbox">
                <input type="text" name="width">
                width (in millimeters) that should be use for PCB size. Default size from keyboard layout will be overridden 
              </label>
            </div>
          </div>
          <div class="field">
            <div class="control">
              <label class="checkbox">
                <input type="text" name="height">
                height (in millimeters) that should be use for PCB size. Default size from keyboard layout will be overridden 
              </label>
            </div>
          </div>
          
          <!--
          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label class="label">Border Spacing</label>
            </div>
            <div class="field-body">
              <div class="field">
                <p class="control is-expanded has-icons-left">
                  <input class="input" type="text" placeholder="mm" name="borderSpacing" value="5">
                </p>
              </div>
            </div>
          </div>

          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label class="label">Round Edge</label>
            </div>
            <div class="field-body">
              <div class="field">
                <p class="control is-expanded has-icons-left">
                  <input class="input" type="text" placeholder="mm" name="borderRound" value="1">
                </p>
              </div>
              <p class="help">Zero means square corners</p>
            </div>
          </div>
          -->

          <div class="field is-grouped" style="padding-top: 30px;">
            <div class="control">
              <button class="button is-link">Generate</button>
            </div>
            <div class="control">
              <button class="button is-text" onClick="window.open('https://youtu.be/58UxCL_o66E'); return false;">How to use</button>
            </div>
          </div>
        </form>
      </div>
    </section>
  </body>
</html>
